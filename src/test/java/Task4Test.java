import com.implemica.bormashenko.IncorrectArgumentException;
import com.implemica.bormashenko.Main;
import com.implemica.bormashenko.Task4;
import org.junit.jupiter.api.Test;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.PrintStream;
import java.math.BigInteger;

import static org.junit.jupiter.api.Assertions.*;

/**
 * Test class for Task4 (fibonacci).
 *
 * @author Mykhailo Bormashenko
 */
class Task4Test {

    /**
     * Constant for lineSeparator.
     */
    private static final String L_S = System.lineSeparator();

    /**
     * Special point for testing.
     */
    private static final int SPECIAL_POINT = 100000;

    /**
     * Tests with valid args for task4 (fibonacci).
     * 5 tests for special points and near to them;
     * 39 tests for first values;
     * 10 tests for several more values;
     * 54 tests at all.
     */
    @Test
    void validArgsTests() {
        //test special points
        check(0, "0");
        check(SPECIAL_POINT, "2597406934722172416615503402127591541488048538651769658472477070395253454351127368626555677283671674475463758722307443211163839947387509103096569738218830449305228763853133492135302679278956701051276578271635608073050532200243233114383986516137827238124777453778337299916214634050054669860390862750996639366409211890125271960172105060300350586894028558103675117658251368377438684936413457338834365158775425371912410500332195991330062204363035213756525421823998690848556374080179251761629391754963458558616300762819916081109836526352995440694284206571046044903805647136346033000520852277707554446794723709030979019014860432846819857961015951001850608264919234587313399150133919932363102301864172536477136266475080133982431231703431452964181790051187957316766834979901682011849907756686456845066287392485603914047605199550066288826345877189410680370091879365001733011710028310473947456256091444932821374855573864080579813028266640270354294412104919995803131876805899186513425175959911520563155337703996941035518275274919959802257507902037798103089922984996304496255814045517000250299764322193462165366210841876745428298261398234478366581588040819003307382939500082132009374715485131027220817305432264866949630987914714362925554252624043999615326979876807510646819068792118299167964409178271868561702918102212679267401362650499784968843680975254700131004574186406448299485872551744746695651879126916993244564817673322257149314967763345846623830333820239702436859478287641875788572910710133700300094229333597292779191409212804901545976262791057055248158884051779418192905216769576608748815567860128818354354292307397810154785701328438612728620176653953444993001980062953893698550072328665131718113588661353747268458543254898113717660519461693791688442534259478126310388952047956594380715301911253964847112638900713362856910155145342332944128435722099628674611942095166100230974070996553190050815866991144544264788287264284501725332048648319457892039984893823636745618220375097348566847433887249049337031633826571760729778891798913667325190623247118037280173921572390822769228077292456662750538337500692607721059361942126892030256744356537800831830637593334502350256972906515285327194367756015666039916404882563967693079290502951488693413799125174856667074717514938979038653338139534684837808612673755438382110844897653836848318258836339917310455850905663846202501463131183108742907729262215943020429159474030610183981685506695026197376150857176119947587572212987205312060791864980361596092339594104118635168854883911918517906151156275293615849000872150192226511785315089251027528045151238603792184692121533829287136924321527332714157478829590260157195485316444794546750285840236000238344790520345108033282013803880708980734832620122795263360677366987578332625485944906021917368867786241120562109836985019729017715780112040458649153935115783499546100636635745448508241888279067531359950519206222976015376529797308588164873117308237059828489404487403932053592935976454165560795472477862029969232956138971989467942218727360512336559521133108778758228879597580320459608479024506385194174312616377510459921102486879496341706862092908893068525234805692599833377510390101316617812305114571932706629167125446512151746802548190358351688971707570677865618800822034683632101813026232996027599403579997774046244952114531588370357904483293150007246173417355805567832153454341170020258560809166294198637401514569572272836921963229511187762530753402594781448204657460288485500062806934811398276016855584079542162057543557291510641537592939022884356120792643705560062367986544382464373946972471945996555795505838034825597839682776084731530251788951718630722761103630509360074262261717363058613291544024695432904616258691774630578507674937487992329181750163484068813465534370997589353607405172909412697657593295156818624747127636468836551757018353417274662607306510451195762866349922848678780591085118985653555434958761664016447588028633629704046289097067736256584300235314749461233912068632146637087844699210427541569410912246568571204717241133378489816764096924981633421176857150311671040068175303192115415611958042570658693127276213710697472226029655524611053715554532499750843275200199214301910505362996007042963297805103066650638786268157658772683745128976850796366371059380911225428835839194121154773759981301921650952140133306070987313732926518169226845063443954056729812031546392324981793780469103793422169495229100793029949237507299325063050942813902793084134473061411643355614764093104425918481363930542369378976520526456347648318272633371512112030629233889286487949209737847861884868260804647319539200840398308008803869049557419756219293922110825766397681361044490024720948340326796768837621396744075713887292863079821849314343879778088737958896840946143415927131757836511457828935581859902923534388888846587452130838137779443636119762839036894595760120316502279857901545344747352706972851454599861422902737291131463782045516225447535356773622793648545035710208644541208984235038908770223039849380214734809687433336225449150117411751570704561050895274000206380497967960402617818664481248547269630823473377245543390519841308769781276565916764229022948181763075710255793365008152286383634493138089971785087070863632205869018938377766063006066757732427272929247421295265000706646722730009956124191409138984675224955790729398495608750456694217771551107346630456603944136235888443676215273928597072287937355966723924613827468703217858459948257514745406436460997059316120596841560473234396652457231650317792833860590388360417691428732735703986803342604670071717363573091122981306903286137122597937096605775172964528263757434075792282180744352908669606854021718597891166333863858589736209114248432178645039479195424208191626088571069110433994801473013100869848866430721216762473119618190737820766582968280796079482259549036328266578006994856825300536436674822534603705134503603152154296943991866236857638062351209884448741138600171173647632126029961408561925599707566827866778732377419444462275399909291044697716476151118672327238679208133367306181944849396607123345271856520253643621964198782752978813060080313141817069314468221189275784978281094367751540710106350553798003842219045508482239386993296926659221112742698133062300073465628498093636693049446801628553712633412620378491919498600097200836727876650786886306933418995225768314390832484886340318940194161036979843833346608676709431643653538430912157815543512852077720858098902099586449602479491970687230765687109234380719509824814473157813780080639358418756655098501321882852840184981407690738507369535377711880388528935347600930338598691608289335421147722936561907276264603726027239320991187820407067412272258120766729040071924237930330972132364184093956102995971291799828290009539147382437802779051112030954582532888721146170133440385939654047806199333224547317803407340902512130217279595753863158148810392952475410943880555098382627633127606718126171022011356181800775400227516734144169216424973175621363128588281978005788832454534581522434937268133433997710512532081478345067139835038332901313945986481820272322043341930929011907832896569222878337497354301561722829115627329468814853281922100752373626827643152685735493223028018101449649009015529248638338885664893002250974343601200814365153625369199446709711126951966725780061891215440222487564601554632812091945824653557432047644212650790655208208337976071465127508320487165271577472325887275761128357592132553934446289433258105028633583669291828566894736223508250294964065798630809614341696830467595174355313224362664207197608459024263017473392225291248366316428006552870975051997504913009859468071013602336440164400179188610853230764991714372054467823597211760465153200163085336319351589645890681722372812310320271897917951272799656053694032111242846590994556380215461316106267521633805664394318881268199494005537068697621855231858921100963441012933535733918459668197539834284696822889460076352031688922002021931318369757556962061115774305826305535862015637891246031220672933992617378379625150999935403648731423208873977968908908369996292995391977217796533421249291978383751460062054967341662833487341011097770535898066498136011395571584328308713940582535274056081011503907941688079197212933148303072638678631411038443128215994936824342998188719768637604496342597524256886188688978980888315865076262604856465004322896856149255063968811404400429503894245872382233543101078691517328333604779262727765686076177705616874050257743749983775830143856135427273838589774133526949165483929721519554793578923866762502745370104660909382449626626935321303744538892479216161188889702077910448563199514826630802879549546453583866307344423753319712279158861707289652090149848305435983200771326653407290662016775706409690183771201306823245333477966660525325490873601961480378241566071271650383582257289215708209369510995890132859490724306183325755201208090007175022022949742801823445413711916298449914722254196594682221468260644961839254249670903104007581488857971672246322887016438403908463856731164308169537326790303114583680575021119639905615169154708510459700542098571797318015564741406172334145847111268547929892443001391468289103679179216978616582489007322033591376706527676521307143985302760988478056216994659655461379174985659739227379416726495377801992098355427866179123126699374730777730569324430166839333011554515542656864937492128687049121754245967831132969248492466744261999033972825674873460201150442228780466124320183016108232183908654771042398228531316559685688005226571474428823317539456543881928624432662503345388199590085105211383124491861802624432195540433985722841341254409411771722156867086291742124053110620522842986199273629406208834754853645128123279609097213953775360023076765694208219943034648783348544492713539450224591334374664937701655605763384697062918725745426505879414630176639760457474311081556747091652708748125267159913793240527304613693961169892589808311906322510777928562071999459487700611801002296132304588294558440952496611158342804908643860880796440557763691857743754025896855927252514563404385217825890599553954627451385454452916761042969267970893580056234501918571489030418495767400819359973218711957496357095967825171096264752068890806407651445893132870767454169607107931692704285168093413311046353506242209810363216771910420786162184213763938194625697286781413636389620123976910465418956806197323148414224550071617215851321302030684176087215892702098879108938081045903397276547326416916845445627600759561367103584575649094430692452532085003091068783157561519847567569191284784654692558665111557913461272425336083635131342183905177154511228464455136016013513228948543271504760839307556100908786096663870612278690274831819331606701484957163004705262228238406266818448788374548131994380387613830128859885264201992286188208499588640888521352501457615396482647451025902530743172956899636499615707551855837165935367125448515089362904567736630035562457374779100987992499146967224041481601289530944015488942613783140087804311431741858071826185149051138744831358439067228949408258286021650288927228387426432786168690381960530155894459451808735197246008221529343980828254126128257157209350985382800738560472910941184006084485235377833503306861977724501886364070344973366473100602018128792886991861824418453968994777259482169137133647470453172979809245844361129618997595696240971845564020511432589591844724920942930301651488713079802102379065536525154780298059407529440513145807551537794861635879901158192019808879694967187448224156836463534326160242632934761634458163890163805123894184523973421841496889262398489648642093409816681494771155177009562669029850101513537599801272501241971119871526593747484778935488777815192931171431167444773882941064615028751327709474504763922874890662989841540259350834035142035136168819248238998027706666916342133424312054507359388616687691188185776118135771332483965209882085982391298606386822804754362408956522921410859852037330544625953261340234864689275060526893755148403298542086991221052597005628576707702567695300978970046408920009852106980295419699802138053295798159478289934443245491565327845223840551240445208226435420656313310702940722371552770504263482073984454889589248861397657079145414427653584572951329719091947694411910966797474262675590953832039169673494261360032263077428684105040061351052194413778158095005714526846009810352109249040027958050736436961021241137739717164869525493114805040126568351268829598413983222676377804500626507241731757395219796890754825199329259649801627068665658030178877405615167159731927320479376247375505855052839660294566992522173600874081212014209071041937598571721431338017425141582491824710905084715977249417049320254165239323233258851588893337097136310892571531417761978326033750109026284066415801371359356529278088456305951770081443994114674291850360748852366654744869928083230516815711602911836374147958492100860528981469547750812338896943152861021202736747049903930417035171342126923486700566627506229058636911882228903170510305406882096970875545329369434063981297696478031825451642178347347716471058423238594580183052756213910186997604305844068665712346869679456044155742100039179758348979935882751881524675930878928159243492197545387668305684668420775409821781247053354523194797398953320175988640281058825557698004397120538312459428957377696001857497335249965013509368925958021863811725906506436882127156815751021712900765992750370228283963962915973251173418586721023497317765969454283625519371556009143680329311962842546628403142444370648432390374906410811300792848955767243481200090309888457270907750873638873299642555050473812528975962934822878917619920725138309388288292510416837622758204081918933603653875284116785703720989718832986921927816629675844580174911809119663048187434155067790863948831489241504300476704527971283482211522202837062857314244107823792513645086677566622804977211397140621664116324756784216612961477109018826094677377686406176721484293894976671380122788941309026553511096118347012565197540807095384060916863936906673786627209429434264260402902158317345003727462588992622049877121178405563348492490326003508569099382392777297498413565614830788262363322368380709822346012274241379036473451735925215754757160934270935192901723954921426490691115271523338109124042812102893738488167358953934508930697715522989199698903885883275409044300321986834003470271220020159699371690650330547577095398748580670024491045504890061727189168031394528036165633941571334637222550477547460756055024108764382121688848916940371258901948490685379722244562009483819491532724502276218589169507405794983759821006604481996519360110261576947176202571702048684914616894068404140833587562118319210838005632144562018941505945780025318747471911604840677997765414830622179069330853875129298983009580277554145435058768984944179136535891620098725222049055183554603706533183176716110738009786625247488691476077664470147193074476302411660335671765564874440577990531996271632972009109449249216456030618827772947750764777446452586328919159107444252320082918209518021083700353881330983215894608680127954224752071924134648334963915094813097541433244209299930751481077919002346128122330161799429930618800533414550633932139339646861616416955220216447995417243171165744471364197733204899365074767844149929548073025856442942381787641506492878361767978677158510784235702640213388018875601989234056868423215585628508645525258377010620532224244987990625263484010774322488172558602233302076399933854152015343847725442917895130637050320444917797752370871958277976799686113626532291118629631164685159934660693460557545956063155830033697634000276685151293843638886090828376141157732003527565158745906567025439437931104838571313294490604926582363108949535090082673154497226396648088618041573977888472892174618974189721700770009862449653759012727015227634510874906948012210684952063002519011655963580552429180205586904259685261047412834518466736938580027700252965356366721619883672428226933950325930390994583168665542234654857020875504617520521853721567282679903418135520602999895366470106557900532129541336924472492212436324523042895188461779122338069674233980694887270587503389228395095135209123109258159006960395156367736067109050566299603571876423247920752836160805597697778756476767210521222327184821484446631261487584226092608875764331731023263768864822594691211032367737558122133470556805958008310127481673962019583598023967414489867276845869819376783757167936723213081586191045995058970991064686919463448038574143829629547131372173669836184558144505748676124322451519943362182916191468026091121793001864788050061351603144350076189213441602488091741051232290357179205497927970924502479940842696158818442616163780044759478212240873204124421169199805572649118243661921835714762891425805771871743688000324113008704819373962295017143090098476927237498875938639942530595331607891618810863505982444578942799346514915952884869757488025823353571677864826828051140885429732788197765736966005727700162592404301688659946862983717270595809808730901820120931003430058796552694788049809205484305467611034654748067290674399763612592434637719995843862812391985470202414880076880818848087892391591369463293113276849329777201646641727587259122354784480813433328050087758855264686119576962172239308693795757165821852416204341972383989932734803429262340722338155102209101262949249742423271698842023297303260161790575673111235465890298298313115123607606773968998153812286999642014609852579793691246016346088762321286205634215901479188632194659637483482564291616278532948239313229440231043277288768139550213348266388687453259281587854503890991561949632478855035090289390973718988003999026132015872678637873095678109625311008054489418857983565902063680699643165033912029944327726770869305240718416592070096139286401966725750087012218149733133695809600369751764951350040285926249203398111014953227533621844500744331562434532484217986108346261345897591234839970751854223281677187215956827243245910829019886390369784542622566912542747056097567984857136623679023878478161201477982939080513150258174523773529510165296934562786122241150783587755373348372764439838082000667214740034466322776918936967612878983488942094688102308427036452854504966759697318836044496702853190637396916357980928865719935397723495486787180416401415281489443785036291071517805285857583987711145474240156416477194116391354935466755593592608849200546384685403028080936417250583653368093407225310820844723570226809826951426162451204040711501448747856199922814664565893938488028643822313849852328452360667045805113679663751039248163336173274547275775636810977344539275827560597425160705468689657794530521602315939865780974801515414987097778078705357058008472376892422189750312758527140173117621279898744958406199843913365680297721208751934988504499713914285158032324823021340630312586072624541637765234505522051086318285359658520708173392709566445011404055106579055037417780393351658360904543047721422281816832539613634982525215232257690920254216409657452618066051777901592902884240599998882753691957540116954696152270401280857579766154722192925655963991820948894642657512288766330302133746367449217449351637104725732980832812726468187759356584218383594702792013663907689741738962252575782663990809792647011407580367850599381887184560094695833270775126181282015391041773950918244137561999937819240362469558235924171478702779448443108751901807414110290370706052085162975798361754251041642244867577350756338018895379263183389855955956527857227926155524494739363665533904528656215464288343162282921123290451842212532888101415884061619939195042230059898349966569463580186816717074818823215848647734386780911564660755175385552224428524049468033692299989300783900020690121517740696428573930196910500988278523053797637940257968953295112436166778910585557213381789089945453947915927374958600268237844486872037243488834616856290097850532497036933361942439802882364323553808208003875741710969289725499878566253048867033095150518452126944989251596392079421452606508516052325614861938282489838000815085351564642761700832096483117944401971780149213345335903336672376719229722069970766055482452247416927774637522135201716231722137632445699154022395494158227418930589911746931773776518735850032318014432883916374243795854695691221774098948611515564046609565094538115520921863711518684562543275047870530006998423140180169421109105925493596116719457630962328831271268328501760321771680400249657674186927113215573270049935709942324416387089242427584407651215572676037924765341808984312676941110313165951429479377670698881249643421933287404390485538222160837088907598277390184204138197811025854537088586701450623578513960109987476052535450100439353062072439709976445146790993381448994644609780957731953604938734950026860564555693224229691815630293922487606470873431166384205442489628760213650246991893040112513103835085621908060270866604873585849001704200923929789193938125116798421788115209259130435572321635660895603514383883939018953166274355609970015699780289236362349895374653428746875");

        //test near special points
        check(1, "1");
        check(SPECIAL_POINT - 1, "1605285768272981969703501699166323590285867163980464844832239016803082277106148858007382799983341986487069902980550885975477322351434706230637004409049784072899949196507083084156794116251699801486721736223390722427570186888655751529235613410338408870193727569971527403943276390636566571870291873364726912281315045657377080452296641014550702767029410145444194902043334906137465258645364555071992099303047847552914338861950758012905861458304822952983798347708234849961877892581500487104329912897053787202478194803251250973191854369361609443319395284823520448940840651775732907644074930230290374431944669276579201082329022167437000540178184976161661514705005605252150134472235679948230522246450783383505595174189526726407243536143199261274616730010032991043429007848793212103106980237721076343555337313557523933541011980094972016608642899965136223294935842250390250828259889570870033963187596647568293443342410158531081233044913682653199471625481578504171408327887892606534538046526227539584258299526342312407738333210781604982633545495888491561087898934709982167880030332285876102262358067160003937460024447386489060064938005924808194248140558002201840110628892078612055443438221578862498291300651383928584373984902581102658641829978112304456574513448241227250220543913281700290495475408052707795147547800588002895958860368311598042365046277866614673101609444339885617748915603839452726352490607877574219728913916976759172161942512702106521906799710381230933153796675234790235519467434328547611767013440031554432534844647298756881984813696106276099041644436865326704962005414703252661697429052228700026065934215598541335206314601174756857372108267519395603749844795252189671825103542031215733628895819541342350496767544577359612671868612857438207662577444439948508920511081719932202807952094944050633931520353705165752224278973066052968454719257620483060470600788353841819233018709738129272890069127555164502616928102212343992914591955318844285013299957618895751836410624400229016257087124946066477575152076724047120392797560167658863103308402495871217091072663815427719636357536979632444694514337858315807830123045624488992063343898622232809815276499488686478228480874239466465854539844009846101554232183838534179468661774189936357207632600958655709417275749429239988171339658743365174488065007582726285863146448924868664427085110604128660321340974290227751774596026947684109219687306112339935786833700659979398202936706616097546152220112351577429071691996714225148201836224531388188828414881188334920655630153169251145055210281181391953380107481654255645127994887231589208565664071302800977912220698957776480636745408839203784677444818657023410443268816498801371347267132397716732400934315263934769040513464841561083944551934883988744727388060728901992257005859055592579702701498789876629246140468987055648848202353823182795242782132450518480143325145961034852129829326886460411094976924341652757372601080646845728370074061158221585322990526186875844634722511809085241823052372900726216206528436967345658215327215577167284155988406956370554636684846128334980163194517674669364279385002588645091883068843227246373030571025707218598274899936665115662266698431953945913395325132968342194668498035884320932911784631818654384169888679752612611749789608674697848597112146170633493014995995939377711625582930808676496829249602222619292424252447656287929667304629730313799833027997407244725276302509781047384314176384823474910492580222090290554667340599932753957196728351641530502477184104421940129501065236407261763483076234063819323295322334572201851271712048346025161475245874116634416313368359316761604178485441489158625560121491042371977306153220569706918328875307971430260713887737488956424580200236408778520928365218519552706035683158762854973241589167003513281971327092826499224800043686420871287431718214941144530960087739504822344102520782962035655516108733270659431057180908984684448928694705124124751606008094399621875077691874521915181113806039218189833084405981006235900180458129988105338583529802090663515116386820510979864565900767992236804789116660274242074465689915450163766609593644411213658850426576985714383529945401624240851788213136506239696917002589171303083395774381051715446123416942925788932355391606449483696380865380479401225761887270569344417173464066734925686822031186619591207908188163543880284239713582360127100766740462781576536412091547295248764840471666066886272811794388843307743219581147645698680387569504738045883982131896112230345059280509514222564943979549630201014429406711932844557572047355690339872179753848274878798152859000846882877414009866914761358366440377801312479831726979172606302076253499666244092966565390532288641408697346023687547506031740987393609838537001985848652074791142773969558686068103239608277471576212743198754648861093060447353376563809288613931608800053166651703663865969292530081789003659484129664968142179801303112232192669674091013079467578825009159044999079560119842841840774891322796637499760228395422678882059279834646872879981930583515287830368264532692919057271956752859681898881886439498541387316275493536339245860145603417865564038277467084924043844300194133440861596940217360333529432648799262398491748653232046843518635512424815632399790091319383058951187011114233453689320405036906291814530819976733957592968524495140582759514448923159004961394589314771337923396087724405318646867730296686622216582280224704535802675951705297733101574404733234294106977662349780130398107238471389861024459294575811352809667773935782519357691654885762027480876727340785581940695206967048771578908351334402574318360856798632193726331881046550283723720625207213836985110344362774623912526688659983654267354503660130184607261315347892500198158534311653143488751073335663986008699935524190905789217129357586101554142732918813816072527413704725464366051646675037391784977872153248236462016877698741132976640021269842951404381527581056902776015531253481931405030436144936581763280511888899369043601567238284442140156326757855473238089749069339318565134994017937497714189140450618133800653710578905701193311969411347862991637492457299585035908754211636702432567221176079660768846353555462499893863101174653198802832831885178638820410982868270150458595564192731489094513832587837778402634039494533848163122481509741915459173112340528351759643471126024503393330158870272334363416442648181643133908264254933923111022423455394119289728706968646229942361232659681244229928952837713086869367074666949688235664289445365668999643590811391326976398846698039163994331116507859109105924722221613792406097180860730268431660514233902099427754888095099364499218182387485465844285051917314623301785886569239355767307416457189612282758860678096482576322259178855099811889366588598608684908532188707142217344059879583601545364239908382288075627566254672929090798418902495018625839477832341704525609735226696945209111895724091069262734097346060834140884114546272034601091075066607392927461031018901624959936692727437189452777837271013910330347961872563618384006929406625687660521937920414284075876948973734864464296607958874410374897971401665086279019680361306483792807440323167915458631773816291915663534193112382112071813202257524360679505100218981464929190236763783884289630547657712303511263652170376929554242114844147849278758761487178844511090491684931381508701140795470331425832791795174443345316014017867100467026206758767175293541541367448607018457158925166198803970569883690691795536265756734804837307306460085877107425844666829497295996390238859916362686269934097408562451476379374623550993196136489109563409955438781736113227277878640026582173112714168162050899915521069574813178029882221126053148427407720991984830626114877600943804760919335465806661429107592246850925071517243057081631970863369812005306255905999324382233029502936002282526268740998131292768010353478173880395182261541688558324154255710642637455629200928787273308760210116255276495673080841991400328385261222969550178143630017875486337732118150638322293756098013850524029030664114310341122938217398771306332750102479108831754172349785706349369713029847582738408479430086494764310052593231793690681239110605647357577679219408310561633174516714747601898382892095187207020126861359405365855555035562518384115581027783943449647987123407525608545296453688019745127827411102214473156039551453335455244708166671265000212295201818311964955103092429040511927071866044172960532548207694166108603948611303372962622557823024934543091179436720707073316494701505742233785036393036073152177532933209298374067640072924123428173163231774658502585499405723437552139274519521359490480070875385415499347603123034066820963985109151431832906539974201459967477329530271979033949223392967770231845496483389366966248571993802453741505022035119302556932520161050759990024756053201742583772117730383507254036440389185326790029881442398893769828331810782958805218089704173610162555575007708667458544934890512622299694475604979866102964462896587325781669251722000730931283523623354406568630730994343003934210320011286688678648168322825413855565898791718885801024231781076399571689659585878425746418483785829430232743113385941794893119432754365965535005150877462612292268959195081616313737212210257390964057847621674973275959816144100756290264388769877842730815864795303224896420036449763714326706326443097444394344036145189884729333128921943113919833190552273937562212046453946626458293709271856652813294843231145827998397644217000189970754623522245181421510350285443198157596920161240801647808864472115938552357282910955655677780512706340618660309634109339094782479039426803287485222398171128768486408645900793450789981835891828923988164408760812976907798534971956215225024748426541965305520154012479985207138005622616551716691844471982225836614784559951976421937103376188806280170173910447502781004856875832898456757459481662690674058244813481059889883064434478813670495626007657390338192134475152869835461163047957891472203839321271143839235084745739561868255157077485107186408241854866776794431270504440973438748104298897467188503966985480451422038096093147409580786311434826195890571556349418313604686478628594788476583562882659779383273303181027125928699434203590177926447948905643895047005444140014297532391746027868350952278694063296514551475216771688077309059538777369727068976051903334842321203023886726887610742867344151477077447947091230069759394698408052691949701481606834317937400459134828214517810425950478708392815891499143524321284303438977601721899395142664393266159175684533903096222696225748357123832221891972234299715730828939907870248387493564083113874076687095177462972177492847323467447136083738265422579329651097695663833855348851383647758945146843037345108609270960515186398037429275504965306477071017590076927883283074090470901796452204560875976865956689184176860668548917754524508818761707210379104180886063213729857965583854858417825811083080939815782535892387544338903435770554224322066509656982458223716772061041485951452839810214370828308090078602611958425537714463101947342653097245181455882570795833278264199233292781779691739834722374028359134968926534812645673867047155383209962329386609251989545980416923793235473960577074906465579758020885996768737823912925737867690625424878601078384977143051470735547303126810103256798149154184244813086438826287234916227194779836256231630294462873416143763861548956211326909332740978844539941620533854888022121390787653940979210615900695695764962648335246911960931320020678311139351131272581457044019187773344254136895497827988479497176282435453896259148293007225796075303715612165944846312972217359772965858764062994697240404871943464498250604056850829531560557257824605806436714797704816568945727201160375604927369622790291111707986018783025665906550823741832569198927369151219632599413828382415366689282189697323514468626981132959905314685412467648583769203539414754453342161191547645317765111184895289431714920304803484306639280461153969523848127631060898972208371169679380335202777582736867187740067626815192984409367585824318026792982519579318360255270845064955768645431994778642443792500294845225083537757679281446392584469313692051537916772128641463891956797736102147085825189667655779766394920383481619482742073047689553616486894013078277039223735325766829610778652051470246079013047672461796271239302204223059977187565678317170733262899677810764312110531124810452500644781600520172395831180475539708973496542514609423868675992196832190062051545143386251281752343081379118533529158916074539366429419016681596266666225331730196737836402071811897039374203856624311391856767958698604244547893812503138296294282338344421796461933954890700603371917295457457346035877396591223216373244876540343685185817416059214876045145731912363065794765939457631490868433477763269778396688087622275354324587383585135583811179779696138131065741268187633661846217960666504051491734166083289503200089684888469945173984663864141251614988885824991896947764227301243574760716026262825440105254061845313203976872710916561983858623839321211370538795959311484633533410757236125173045317604937591964576143011142311710546822929656556274389533450585214874767913431975133404476270991029186980373033510505729799453571486584382680717008453854614190601560079734820396503562780145644641793344786776264090925341598803663987369828686918476597024004363917575611701351494238612345987695969135670084488463775937549671495248925556262345704683112312897390539055000273159179356312995162507083932599752512000096042317085907313965833530141855820396530035887539907509666531737785790793686547432335001846734430725426503437900089203841039783220320901491501363111848304394525993272847286869337035384268226490542032245053355512757371604104366679991254532408481676328824199661555831487315299440455200755195924979020673221185481187723139093505770973022046731185077526590557303650305017073155925668965114619849721744711898073309259112577991141878228927357133545904437200653410038901886619155496796890600015358350564377306437667080712131074071897975792078704659192099202886617529142744259976002745114944115687631576555701844051618890297539136824790428784770288217841779177443997621085770842147191051425869093695990650335045183838101251202894636753940212317629606661258911583857155971640983567848908252516490780540660755238073696653216426075228514764181622690052989171075106059816080047526626564900332055535447924944814866333727244326232109187342426748916539916591806698925472241557864022241862356398980126863525828807204615380427539044655134131483639239735828811218838563706385948357145767921426892327550514638724484008309998851137060214056318989386583879784589759805433237460236339899353051565787600499161630695070604394417083243640749517013361513851197460357175281611642807018877903751939655985156940915499310263791413154309977009464135274702293748829118155531557181739127795926242631756913142599663101956908318328292190074610779433411832513448935793980813778947006581596746335751320674310414213654734307463102259090515772809900178202293551182745382308946156170413620428676145783719580509214633633773750096795753813116987116005354352612732373236626036387660496383495168562349133940533740741192663615243096204825941874333714507605575296202287057227462366560472692245107814321937190824600037705329679994478185669000629853100735415196739227695118985644740290313341054075376979738143377546683446368169592761428670679337329510557190740134944635299856444369377716182580236214476547158485702419213145533906722525595024640729501489859844221676017082311816893598620444253188289450656361699955249701613520144971120860057634099545596896243876197513438770449219074789649588025763537988052779366440374178682735443100018487798817982828460804370177956457086054359573266195165984303983185794892148589642707220405257064786902534237993348583466218283961570922302835371519646243378481824150333989508781858209934782211109168837970111754302888479034853786066754034872614797897417714017761571495173799485872493233908514102193388960349301040199663279208504791908851384987130863807661671083892750887981891804385535775024152904836574967632556580605830575336483373629916244999436782911733680938241640243718045188558434713909602122885996987413055187699477670401285200635005297933166543804243941811520897406456555671553906317079364240569092361611460583877866344170851050479457056645997946540340933372953417683946183818998957603604662257045753272478617177260320861164617199606000192732863382632230347177583578346002806688531129525672312951145706710571382642007802493815046102141886495134049700210471212466253837263979824943109797408764996213615841170809784664431454456236333460739760537690673842072715317146632371171191426423263218925774009395614935183684372255348263997102790354229532547582596452214418260347462674033335506047779204957488679646178192020505885453264656505989422597218818132429643574093300620481272686910172049484144474179041092507595349391258872431019456078002253658893393640333882484984229868475970263401424265310638927938451001980275684733455951632364983875161093844705210843950782253009205188315604786828687748357082579272761160909618907213043916216264006733679415933315618959289893754507747555763722804491520766294096252007859169856285857994975533718780855310102262905786160277537358943788037157838469916495505965419477644849003932617058130946047080518760484057979484878832947748554401329383450988232757937745082041870066296466020352219875584652305988059616934838276428669736437836145049536277469540036525674735273203402185424513270037378238322019101481465847004964104907656678255609344451058713859664334598382082958680289259084833277248681968210543050904526543141876148389816922694902561185370642559432115571763338132622029260004069227916912182162776305322267811467376951433977948605575747916999941167744610814802177107423297827096855722623637872871083388653735418199749010786851584756288242166775014135656672993631550983642922520796627560493533727173072689356433238402437006527219978796996002181558525806073040736260502061926074211943393366716944219354629154914624677570894509337572088091637295848990602232742318934042313435513865249409291071183469558644368729510833599955397747806365099354360315958998229406955879861625894256504084178860128656643344973115402009888312994718481006923993863129471683998444099962215888479447936356432356476556475744125346939629206132541096820102119056671474352162955914199058543609764653191671311558192282282268792702864598461048474322992203992886913430196736852271146725149404004966862932655451940282305506435681226618909141651613499280269241679778685388182895195541447043749494947258645732223386597693992504254941218754312371869509518094735373342617599067349549920424947018495166670141550810907685161670747926300720873819047452293292555568230194894495909360541983932094011950924720573878410607636077650823437197713766114234397518388158917884965996724465553632868124522138127090957097438245699550371080063610811883149356770651939170478580009723634750234525230586956973442183601226892857659834571952751402432535974019285723440143178663085661489468395949655292876968954134375894636957215897554269577972545320348925621001018181082629574065977234465759785287286714374727495872678587414207848650895584387998034625046290171801359865921283084324110095123551304987840882204969719686525690716473952684208210845147877429937413685366415637969929823142715151041472330784946315404898554846796151186570216730649318271975902921153186943175465573593065494635152916844790790458553125497137928673185492642988151351749980555583187839911332022938629411423988267600356654324597873469188507881263522836236015950934069352503689517674756165797438330478239020989779629152824515863111964725097784160096873654887523657692708858660924426466417528459411917468227811968564928339695607991760110838526779605813635674564126462387477076176576076716003437705784461587463694687070089585277095337783919922252384173340676544035949056908588828631439042502771447563752818777651253709918812401251883652056354669580952905741415582490443391738002852555008209191847851592479073851265036140857181722009424954159765991869004628183191226610222509780122728274269964956780472796359983193929814543003579665146025703293835876866905044338119473208110838209412870734152425755882705748159165813050178593910256124229010094260825631140463614889387270678084104253868290265833469364298217996716250516848078271855654652623275174807662421334592866518168777832485204717098600835198134559305012490290130422241338403958285184764190905482027517918757579601123830535605112231393403019756477049965699422050882994827980801851757670345169938937847080418089479760574687266210178988958322126026823402114183928602117706731368865987014370986558619181732240685276658039038354363467907704417875928816855390161550018749180460876687660973851061782922830563715645476215243824913175287139102074142077600793968658444817412235270713000205186815788646373003178174407991557273349069111092288299273620724666915851335545120747688390605016278790626");
        check(SPECIAL_POINT + 1, "4202692702995154386319005101293915131773915702632234503304716087198335731457276226633938477267013660962533661702858329186641162298822215333733574147268614522205177960360216576292096795530656502537998314495026330500620719088898984643619599926476236108318505023749864703859491024686621241730682736115723551647724257547502352412468746074851053353923438703547870019701586274514903943581778012410826464461823272924826749362282954004235923662667858166740323769532233540810434266661679738865959304652017245761094495566071167054301690895714604884013679491394566493844646298912078940644595782507997928878739392985610180101343882600283820398139200927163512122969924839839463533622369599880593624548314955919982731440664606860389674767846630714238798520061220948360195842828694894114956887994407533188621624706043127847588617179645038305434988777154546903665027721615391983839969917881343981419443688092501114818197984022611661046073180322923553766037586498499974540204693791793047963222486139060147413637230339253443256608485701564784891053397926289664177821919706286664135844377802876352562122389353466102826235289263234488363199404159286560829728598821205147493568392160744064818153706709889719108606083648795534004972817295465584196082602156304071901493325048737897039612705399999458459884586324576356850465902800682163360223018811383011208727253121314804106183630746333917234788155584199422004369734794567464293731590299016321476910276047953145737133530620933370013274962876666024092378144462247911861242773628847211726253860103658427961076487163331347200528488644744897867222184279861410512996912357518380420226522996351489992015929613369585992284921472840596751824858206083370375175870696347451742484480895089618955310799475473330332388074551229896105111703918074819309463129676526583523254006198015481044159254418528609134434118408385912583154979720111735082542883519942050207089706291319323705936118699708767405215366496845718246640603638302177053284851442532497454630999497577583104521012195115814606785903295807850171689359081326188293931649613908497264994236206250488864434829436295195232851838550923528889484987751381022320088255160033641645914092823188828485453780754751793048907600025512141470637066402501872547952277141425050621431726133512376491993264368219026824677798278050012296677681338164667973991346578705512745343946944045970777191879954073954276059158130792852127416568328282956215993174690589582184622213311123743528370969527697376659264209701430460262628089511749784920754475292453555824485037081169662961361437456685569229108353804447871639780202320840236093709222541404770096912820491605767773669730366536498834923648247283567638754132943595918097552972633716970745724835609042802322527268722270064679384555006784008088065427716480324882491803961614497071569285030997191355977454006784666563982465863641444396717248234018026243961781706483360371717605953991771045496130564628772749130877955433893243191369395281413812395013590807898227658488263250802618524850762756185439484575939335126157545942937679620715509540065149312865564443708655439771673542181054558453697618966155551804171330106742714737433118616111666800134742357715495644208822055262531207630247540274901297665161330833084658587180009012735858860387323290477368590430709381480698925172403629520614399575937151757870535045340264867187154085515769299670425865012093497499458084071483820091588806573538923913704024350619657151098348052986098255110975492885336115545257393042442696791158576341900753200960006019671663122779964553274124613827002842207651443127215907411334080034890407625849192846588580412869163865154796429776325124265243357090373279994090608028914324200216278403137569688793319327179281513651857484816495100553151506872893457040698364864908926339042055054701374510871324934497999408637497701279716028106056465342577613367511844757858239618765128089472486851278975083193508109837771994103670102484129663885788768053596123033251579123980971589651437698106274532939294318318049638382537268302829198532880152940714337232086321104061644358354382664864917218438210293517424553745505758090753355882025205602453784317543553853199425081002171431279765462841928691038739447760277789370517385306279744047722489086714748028855582994177874607142469064610509456252022128258329950255642602299905929046841595791167921512858860328296849951271553446508878296327611803906735633266224123093687573746634252135170679694981289617944100773168818654945023743438512318640838968116604957523873700674044602618648483425343480172570393405927238389192205890319989061851984210383082164165286102068738694744762282270671562080897567280776109321283700776536592362521370175610492010490647926435022313362357037672820456385127428485063107497131400081807697966418670920862707517582909049383024204603334049254656583584442952963370887765452655876066062446937832610287823426705006187125841909320161763987566513486927154010085083647269535513915816758710288791204561224527095476616464634423436358506846144301437379657717790829502874496253094716740270948624055817414650104670627976517803754955899088266937466501789934094158017587793129776426891242809581667986926232813625576760050205090619888399123409239688442164270550778132287725184933490420599495679264605659110257760825014193077871965880962249652458201556815237466699463967549092715904279567434739404713888403457003339771465555694947195071035775250811866532575065892797554153301608090613307672021657715401873436452152566925919864525536834568235530705981621300855049045749462125005586100312191552245274122445172305460076489568744037811637120488942481442457383881221646993921230130822937656219514811987478059283006119165854697271444230766548407257874820601218362249866393721509747526537539677353958519844769577322142446097980810172948625060754655647850574348574673760923656634582655495694500804946625600683003303969791972728978548772898691700233344838111143624421997248348373393817914540838366741137930672543630607318584213889310473297461294643309134066151220872533746202317748637999040114037035041286112690264736393397273817924315745503107186029046465168489664991484955836275210278398095989067353453771747035442365355445747127447923214040603969451728451202645051877393660878207404279794929371571338262325793789167979461085931415095683486296162401875755894130120407378671712437729188487520121912910810326749154096040648754248927534521962074102425291913766944369032132103550933382245399558387757904745511758965088027854937299536471846566637636919001351398679746388509468405284549140756479486056457920649429617829741961946109703629304530913466716238442148820189449581503029766353579703388699920365905324047373120549655643341862622777074389646423179579674577956341322830784916026813548454623362949055914885337880398436974918071336089580020123110991614556127897128629528458209067952194326976896997752127042336429246818734853834742889330980560103357922288676566480206614652444443461774011721264398205623102431248408168327688547753045794176361665903058552581366119249019699162802496454086053321275062840623398173054019398759351215711987306636178410283089779146732418239902330676994111916249584184821290161741884890744574259103285106768945456293864755738899456354943259853902533118320431113938205766012422223175295440659963277854864852984742083179611314290857560405710728212958906402305931907418946110255773607562277250486349227222087557966804673075308805002278223894683614028706639026079344344434686294556396103123818136981228794370785368388506599135026980613330934094961793563094627199853201613193153865108452721786814140586572232010017459153962501788701203805098164119780148853692024087086122573636233064502251961233974992366640735451891044862799462188815582042386580030801106890097238687055452552110829965059161245343415161008354431626917063844116549102496993880762448490819042269804160074405392450174036209847483710949092804116773547479425117696723576173189547660596984813143044906939144736572025112530913402350316579592727107140204745792181312643267980166276213539787318686784516646409043739461341058341866130194515206728071388017201750465345177683567166246451096874716792230890148549731651715426719134701779009646503713855713690614979894889941888457297282875954463903599095148708206058572338514158627674241149795154024155999938386472330121596245377182900950030617269384713599791193454044355416529598060101173170994161856361550265787123369355532596323286384309305409145251652049876541298945371331714297379550668239431873282678293074955266864563208743768540095516367311985558520002873697087726788222240830142818294228089082545681401285437906803150262330031355435708411061568390519438584930325978406002583613274547851416495855586226252253360321674766981620421827339385206593739096885252787145406142672658262177573655048328267368597269217457845651924361951505134294767813855422501312640796469744649758696322680162740933123199953154087011991048812393111727123352964379020421420583756994849612766818894376697073240511064803717146258228885676833210858702603529846510370844972539194851074168242379857338076991793231848897846533495471513960873594311483932323174971369007675150619831918752629632940698780673005828943186361408536433545182513621733366469934325860335901609292835044356195560151952535903838669632931421195319086416029491768186604338108617856893658652762599159576463089057484057012421874561183369156744400271989993859435242606882312306519905393345015702439093202555708305829478488168303432296270227178110341320372986862855706153836192552748513974514717282608166467373122237687789655395096239211535388318181125900905930703765521017233830956585103471622343721470945239512383177898180368057660537081723959944939544511007394960086606314007369726809860353148028035639179259295514035556750901346225565651200500040388964695765286839375894326641359638758981952190977233092636192929286884271506009538217214933792744247421149897522229185157042978227719340975109319968827282928000446381475380613389725119957350959904451122273439971539673040298002820751768235827912095052102735663217352194962362184727464644960226149981751908352203306342021592050720598795035239228195869165158542449929474548106605050117625206972350963702019752601985260677384221896524605299854929995338755313295340940138314907468467139499677720572636120372107374342868057717426582051294080969959563531911282739990097960539607984437523116507734719777809570433883645270239644294309466315623904013251732165782921533830102558013937152598856329347755255719232808344589151922043864806081186297548489573356845798244178775602686253784216073315926315117006546664792964827288742401180295584471128695425297779253841606405927427313508860836696395679355243026261886885752006481760497725961130073922590764478449738830065772275665777414636443696093953753681025203011970464541713411933975735103788738392769375565506845210536678318283945400401975534721292450383336003817385678921281713802749790225543274326172443844383519165927950001713682536758546723469033733698464059513247716076530428565235979898018682260049948150428797107476676459294460386409882046653439741904221084760506651625666078950470073700364878268487810943704123780820867203211027983637336090586543818602974928781155484266146415144583159391700957591524192858746462325799289808212663991897979203096513770030043332559965757095804880516280318291317892283539611806096480760588324398833851927871266308437436655196451140800936247852263042630333253021422636233953558646545567952000386740056413841503316500443196882791862089512040487190834318318720805613880482722099504496769830259462446643387340087559348080783121714848722685337702205260808038256129653712130928142868326732024547341918409543265770751846027970701058154304742603541295214529990635988000113171975043316669542398374118000586212749941657916328896392364001183403234069404287388451847652826410122033605624323121635568975986369749647596502871188585784355101687504624636539324552490154032140569865547304245954636331164655521637183906414415309758712816906121425865963519572977922422193998635333872816316775329382888285388337632233238036645089499874738060057408898360753928123721929221887935357828140069065634778202887507881813240782624394992260288324899145727374030782190991736334686587324734925180822573968054570812461164995383965527453691487340952630177567364936503105040012083733323507697152712523147323433715982381154982902092524326981085372148717838722362846968085831693638384498765389697888945985515666277324765372113023407091352370001332816569293276900781471078643097906578447793178960543143205024459597894087211433825957259050676114083777577666949879034498423616833565457642039910618453618935750101710017725620355769563378953758665795785319349166712506777600201116719824482067962138213637479996078388947476976854371179482021389349861181740828990847397711566219575730166769531616390028616437744333987950465924649624221361582556979790545498220365919158604912020715635631040315538986628041330966376721410914045182032024057167118820434464793928749803819352938145054343275764367252195300947748256245931417922605137017689402364247601489831981249881815659363767625500657693805874763140615448155779212535276526235730433689192685254054526262411911016156357795666960065908532277002703275187121877171252803456126830235101667545124754877133773716679551420426703467351042791173384629237801027761041683371686184253726562037513732843533633565163220145118782869823125951421106201364541930300041723532889519178318955856530899618414036372766242613462981832366718516227612929064474842642670720228351684614265920516762231207830828736495674753147731828095679250957455183208640720034073280476977250429065166775862662137940822216639672500136596904942830895605490951255968987922101774658817948774345231590358526032183309667099112583393485448487247848989986555106163389286689996700225455725201192468963399245341930568628287266154554977591171677234870273109994284553066290629230944606505961324859550418277938672668519564635104078617839799413872033532827843195645709007893008947027923548105184401821727997576067980745684603001508138923452502105044934874146471722564995367164821236866037139904194334377622398866638519217567726283183853832672567439807319989466480664493203325667248130169442386260260938595262185473829829655664167239056097352374183107195265095683795670742646740683849734475169685935789219642416124979114398039590666990374976005078576331036100207225998255550662603112543323693395536358218289831122170914531594780311067952757440640496806878780414499789323112454004235627907950496053532320798797946603624816863361484297838295038330096430888224575734937428832687311310335645328966004829358961398637161232521561088632564699206653873837378293823902017672262403793232643723649636576550174442401991112661121854039511616612290979354350942496682148176886761519933539302375974268295207970549690201597108189357323757477303432824688714733897849865805712867879245604618677327572104101392804594601734946451198976706954026926325977085411919015691045995552207351293138187161405499084909554845419434931917344430522376469392263403392646510051744603644570754463847534733966705557908398431759668907930084657438598561912663124717703955390006624505825330361779064559334274155743297547382435851687558291288934724053570713445458222971933730758205897144472889089781340754148110731186122936859973310507122731462503393873897738479354688284953678332216656064611036606566593132311955013694851138439291211561574498547816003618955409622344616927979949484656636148330699173829550144656063429037359575915469558527253860731802499652816768425443425889739073884352974610591022393415807247569583300801154557691634376230748190087515083604267146590376806793177153184509444555078218804371479017254048737590623414381181091777995894452851110954312451007661884236739962192456077969511122779364407990415119514440661546965008576217977093190909583132987787434522165255034445404702763169714368762469620043258522003356436848692882916179287819142433475654756287226124351664343691962489756968151414727888765534977698006480871154761766945959111922927429454384882497333914219571616022292224906364296597972099547195800025036746754894650280064556031370644217419634227831878046942804047499799250678440344926170781018652689185600559289478435620230506562090798332784054409933754325466268996342381853087817159138132409688240004900823384875229448700461035381883418217015178779468503346298941683080899357908203402596981571019152124322599142297993961017488797887830281192191238727922353623295034097047026384576950518160676657044486620981891268715888390683926816266566045504069411325517726301593005468118625314041176546254147484954209655218329262550835896721811635441831388710685040170614684768874135589248534951236185901475459798978133816784134989257021373591925918938505117120958353354468195902418584460471378852709468342796348047587156573415690896444525395795251837597314216029681638412088153036099966996188639795041806972170297532612770372422177442399757860752244275767990624899121340496474889285918528422833247118694861120447658840271122911279114792252504327153033684366578150172821878605530320299879588079217379263325468352926442085153146379821322093120797035112094626071007302778912072566743084284949202405450391750643121078577065441187219944044713259661653295743027549410956701543326099389775148130009541828402651298935227760199983004106141718321080195789503790459326081276788138994738324227512564849341286531071052868689648644035294619832639219517599262158567853308180854622517432057724041779265437756658172231185312218755767693801703046218276691467762250144758754615144514318255923066943062603732646568363555326160331715437535324349374224250967669972209569182920399221779749244067926548005910615674789500542998017635444037775787063172034013555643683051468017023738859881563516237835944674355662760135149674301440420415171928872374647867382781971827035983886036616187357262700493342349286117240506228275121275481554264228471521735497145802473814776450360970418983518376319628772221549149786891339743058279126510663209664415284380540087275689926332447230094477529152928444134842867829072123694329242420883604363950605506758772124314102728605283875613848102406526257247712999775694643500056233401552208865282718695548243000376564479084893901000536841057522363280370838897496675493411119896288413437648165762755516249385819799876190593410596588772953750592135480282406384799725149946020648503742074502433099373164782711911703171878502492156281762509092095744129027049665089185824440951849086836244861302746209634753793226318816715261107812607328110620115344977658157304987786773827545017316589662732722171023102044468910200415948303526753908200009932370035916020269727358967287596800092431351089975959771739670737705545635339787762830709652643567870591839666401171540256204228281060067944109179653941685365005272724324536997345115516175842141599701909755483073424634942570911097725362896370051831044608670285904915489785451861640485967121832187912603224446865674572002909630090732796419381087368300577008488549876326424201225775611351792112069706098584806375300143303206297900856011317453460216898549935534481242900706196770703583346771718929609650046081906453813744649270388930650195618060462577300950622064469234834931163196871839460688231399405614992896889553688544426015978917594885221304833320378882656155887963824087690654293193046677769081072048908640193133809524389871737237253005521747524415947922113766652805888438396054147567486987337167355166104543042899131993430820991650159647656208456324363081781712602217016347775564111441803592193088471289255795393642877824453654048165950323223788178060285905582700086738684883750337714980917164444693060308390225962379946272713289768929936724536553233482465794212734027070565388511936215762656298864684435370823571848084247138397525778310128785553445708026765901738206081873519050998499630965910793432366813853970202821394949406134489952453908830903545787795663963353463066176422602202105775621923781957494629716436815349210857072706316427328453577498513994637159418953720826767147133205092570099335672952611163628000805824409754601708517576411444079395720215248444116421555957828748745424226011844865906715664110802868290518210612860404454750511438922544439143868194881337928254493717003965533900634644833101037271446752357724260351165699515773967642913572637535873501670470613312527450847505213359793783861950188821929180325547521785176580032177426333023524832481849348447808439788218713542427529133485690077625718966956228062966168347006680212942597861705301218647978947398135250300005080179027045518797793505294699210802788329649160385012184940049568696199707027524548531041667993720684674742262714439058761479088895841824160373748908700112817860631624151944290572786670975635303518603594047587697599520048169851304461861034981185133385903366316421187501308774815870676228749311300865732973446153743975659991079304994892588234011350360387511421993302025047776808575499810068887160787732953050111241465547976334636931551115834357110038285979669707537501");

        //test first several values
        check(2, "1");
        check(3, "2");
        check(4, "3");
        check(5, "5");
        check(6, "8");
        check(7, "13");
        check(8, "21");
        check(9, "34");
        check(10, "55");
        check(11, "89");
        check(12, "144");
        check(13, "233");
        check(14, "377");
        check(15, "610");
        check(16, "987");
        check(17, "1597");
        check(18, "2584");
        check(19, "4181");
        check(20, "6765");
        check(21, "10946");
        check(22, "17711");
        check(23, "28657");
        check(24, "46368");
        check(25, "75025");
        check(26, "121393");
        check(27, "196418");
        check(28, "317811");
        check(29, "514229");
        check(30, "832040");
        check(31, "1346269");
        check(32, "2178309");
        check(33, "3524578");
        check(34, "5702887");
        check(35, "9227465");
        check(36, "14930352");
        check(37, "24157817");
        check(38, "39088169");
        check(39, "63245986");
        check(40, "102334155");

        //test several more values
        check(100, "354224848179261915075");
        check(101, "573147844013817084101");
        check(500, "139423224561697880139724382870407283950070256587697307264108962948325571622863290691557658876222521294125");
        check(501, "225591516161936330872512695036072072046011324913758190588638866418474627738686883405015987052796968498626");
        check(1000, "43466557686937456435688527675040625802564660517371780402481729089536555417949051890403879840079255169295922593080322634775209689623239873322471161642996440906533187938298969649928516003704476137795166849228875");
        check(1001, "70330367711422815821835254877183549770181269836358732742604905087154537118196933579742249494562611733487750449241765991088186363265450223647106012053374121273867339111198139373125598767690091902245245323403501");
        check(5000, "3878968454388325633701916308325905312082127714646245106160597214895550139044037097010822916462210669479293452858882973813483102008954982940361430156911478938364216563944106910214505634133706558656238254656700712525929903854933813928836378347518908762970712033337052923107693008518093849801803847813996748881765554653788291644268912980384613778969021502293082475666346224923071883324803280375039130352903304505842701147635242270210934637699104006714174883298422891491273104054328753298044273676822977244987749874555691907703880637046832794811358973739993110106219308149018570815397854379195305617510761053075688783766033667355445258844886241619210553457493675897849027988234351023599844663934853256411952221859563060475364645470760330902420806382584929156452876291575759142343809142302917491088984155209854432486594079793571316841692868039545309545388698114665082066862897420639323438488465240988742395873801976993820317174208932265468879364002630797780058759129671389634214252579116872755600360311370547754724604639987588046985178408674382863125");
        check(5001, "6276302800488957086035253108349684055478528702736457439025824448927937256811663264475883711527806250329984690249846819800648580083040107584710332687596562185073640422286799239932615797105974710857095487342820351307477141875012176874307156016229965832589137779724973854362777629878229505500260477136108363709090010421536915488632339240756987974122598603591920306874926755600361865354330444681915154695741851960071089944015319300128574107662757054790648152751366475529121877212785489665101733755898580317984402963873738187000120737824193162011399200547424034440836239726275765901190914513013217132050988064832024783370583789324109052449717186857327239783000020791777804503930439875068662687670678802914269784817022567088069496231111407908953313902398529655056082228598715882365779469902465675715699187225655878240668599547496218159297881601061923195562143932693324644219266564617042934227893371179832389642895285401263875342640468017378925921483580111278055044254198382265567395946431803304304326865077742925818757370691726168228648841319231470626");
        check(10000, "33644764876431783266621612005107543310302148460680063906564769974680081442166662368155595513633734025582065332680836159373734790483865268263040892463056431887354544369559827491606602099884183933864652731300088830269235673613135117579297437854413752130520504347701602264758318906527890855154366159582987279682987510631200575428783453215515103870818298969791613127856265033195487140214287532698187962046936097879900350962302291026368131493195275630227837628441540360584402572114334961180023091208287046088923962328835461505776583271252546093591128203925285393434620904245248929403901706233888991085841065183173360437470737908552631764325733993712871937587746897479926305837065742830161637408969178426378624212835258112820516370298089332099905707920064367426202389783111470054074998459250360633560933883831923386783056136435351892133279732908133732642652633989763922723407882928177953580570993691049175470808931841056146322338217465637321248226383092103297701648054726243842374862411453093812206564914032751086643394517512161526545361333111314042436854805106765843493523836959653428071768775328348234345557366719731392746273629108210679280784718035329131176778924659089938635459327894523777674406192240337638674004021330343297496902028328145933418826817683893072003634795623117103101291953169794607632737589253530772552375943788434504067715555779056450443016640119462580972216729758615026968443146952034614932291105970676243268515992834709891284706740862008587135016260312071903172086094081298321581077282076353186624611278245537208532365305775956430072517744315051539600905168603220349163222640885248852433158051534849622434848299380905070483482449327453732624567755879089187190803662058009594743150052402532709746995318770724376825907419939632265984147498193609285223945039707165443156421328157688908058783183404917434556270520223564846495196112460268313970975069382648706613264507665074611512677522748621598642530711298441182622661057163515069260029861704945425047491378115154139941550671256271197133252763631939606902895650288268608362241082050562430701794976171121233066073310059947366875");
        check(10001, "54438373113565281338734260993750380135389184554695967026247715841208582865622349017083051547938960541173822675978026317384359584751116241439174702642959169925586334117906063048089793531476108466259072759367899150677960088306597966641965824937721800381441158841042480997984696487375337180028163763317781927941101369262750979509800713596718023814710669912644214775254478587674568963808002962265133111359929762726679441400101575800043510777465935805362502461707918059226414679005690752321895868142367849593880756423483754386342639635970733756260098962462668746112041739819404875062443709868654315626847186195620146126642232711815040367018825205314845875817193533529827837800351902529239517836689467661917953884712441028463935449484614450778762529520961887597272889220768537396475869543159172434537193611263743926337313005896167248051737986306368115003088396749587102619524631352447499505204198305187168321623283859794627245919771454628218399695789223798912199431775469705216131081096559950638297261253848242007897109054754028438149611930465061866170122983288964352733750792786069444761853525144421077928045979904561298129423809156055033032338919609162236698759922782923191896688017718575555520994653320128446502371153715141749290913104897203455577507196645425232862022019506091483585223882711016708433051169942115775151255510251655931888164048344129557038825477521111577395780115868397072602565614824956460538700280331311861485399805397031555727529693399586079850381581446276433858828529535803424850845426446471681531001533180479567436396815653326152509571127480411928196022148849148284389124178520174507305538928717857923509417743383331506898239354421988805429332440371194867215543576548565499134519271098919802665184564927827827212957649240235507595558205647569365394873317659000206373126570643509709482649710038733517477713403319028105575667931789470024118803094604034362953471997461392274791549730356412633074230824051999996101549784667340458326852960388301120765629245998136251652347093963049734046445106365304163630823669242257761468288461791843224793434406079917883360676846711185597501");
    }

    /**
     * Tests with non-valid args for task4 (fibonacci).
     * 4 tests for special points and near them;
     * 50 tests for random non-valid args;
     * 54 tests at all.
     */
    @Test
    void nonValidArgsTests() { //54
        //special points
        checkException(Integer.MIN_VALUE);
        checkException(Integer.MIN_VALUE + 1);
        checkException(Integer.MIN_VALUE / 2);
        checkException(-1);

        //random negative
        checkException(-14151);
        checkException(-5125);
        checkException(-1257);
        checkException(-87625);
        checkException(-4111);
        checkException(-8513414);
        checkException(-141742513);
        checkException(-724521367);
        checkException(-23515126);
        checkException(-1234);
        checkException(-145);
        checkException(-1411551);
        checkException(-124);
        checkException(-1242);
        checkException(-128736);
        checkException(-51);
        checkException(-5226);
        checkException(-15);
        checkException(-7363);
        checkException(-14521);
        checkException(-614);
        checkException(-6541);
        checkException(-1412);
        checkException(-762525);
        checkException(-87364);
        checkException(-873653);
        checkException(-1231);
        checkException(-3);
        checkException(-2);
        checkException(-5);
        checkException(-61);
        checkException(-652421);
        checkException(-7652);
        checkException(-157);
        checkException(-63524);
        checkException(-65134);
        checkException(-6253);
        checkException(-6513);
        checkException(-626237);
        checkException(-8751);
        checkException(-12);
        checkException(-34);
        checkException(-57);
        checkException(-8954);
        checkException(-123);
        checkException(-644);
        checkException(-312);
        checkException(-64);
        checkException(-31);
        checkException(-6241);
    }

    /**
     * Function for testing valid args for task4 (fibonacci).
     * For inputted parameter define fibonacci's number.
     * Simulates user input from console with valid args.
     *
     * @param n        number of fibonacci's value.
     * @param expected expected fibonacci's value.
     */
    void check(int n, String expected) {
        //Task 4 by itself
        assertEquals(new BigInteger(expected), Task4.genNFib(n), "genNFib(" + n + "):");

        //Task 4 in main
        String input = "4" + L_S + n;
        String expectedMain =
                "Input number of task from 1 to 5." + L_S +
                "Task 4: fibonacci." + L_S +
                "Input integer number." + L_S +
                expected + L_S;

        ByteArrayOutputStream output = setInAndOut(input);
        Main.main();
        assertEquals(expectedMain, output.toString());
    }

    /**
     * Function for testing non-valid args for task4 (fibonacci).
     * For inputted parameter an IncorrectArgumentException should be thrown.
     * Simulates user input from console with non-valid args.
     *
     * @param n number of fibonacci's value.
     * @see IncorrectArgumentException
     */
    void checkException(int n) {
        //Task 4 by itself
        try {
            Task4.genNFib(n);
            fail("Exception was not thrown");
        } catch (IncorrectArgumentException e) {
            //correct behavior
        }

        //Task 4 in main
        try {
            String input = "4" + L_S + n;
            setInAndOut(input);
            Main.main();
            fail("Exception was not thrown.");
        } catch (IncorrectArgumentException e) {
            //correct behavior
        }
    }

    /**
     * Overrides System.in and System.out.
     *
     * @param input string that should be converted to System.in.
     * @return System.out that should be converted to ByteArrayOutputStream.
     */
    private ByteArrayOutputStream setInAndOut(String input) {
        ByteArrayOutputStream output = new ByteArrayOutputStream();
        System.setOut(new PrintStream(output));
        System.setIn(new ByteArrayInputStream(input.getBytes()));
        return output;
    }
}